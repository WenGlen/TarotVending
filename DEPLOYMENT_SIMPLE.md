# 🚀 简化部署说明

## 📌 重要说明

**您不需要单独的后端项目！** 

当前的 `server.js` 只是一个文件，它会：
- ✅ 在 Zeabur 上自动运行
- ✅ 同时提供静态文件（您的前端）和 API 端点
- ✅ 所有代码都在同一个仓库中

## 🎯 方案对比

### 方案 A：当前方案（推荐）✅

**结构**：
```
TarotVending/
├── server.js          ← 这个文件会同时提供前端和 API
├── src/              ← 您的前端代码
├── dist/             ← 构建后的静态文件
└── package.json
```

**优点**：
- ✅ 简单：一个仓库，一个服务
- ✅ Zeabur 自动识别并部署
- ✅ API key 安全（存储在服务器端）
- ✅ 不需要额外配置

**Zeabur 部署时**：
- Zeabur 会运行 `npm run build`（构建前端）
- Zeabur 会运行 `npm start`（启动 server.js）
- `server.js` 会：
  1. 提供 `/api/gemini-chat` API 端点
  2. 提供静态文件服务（您的前端）

### 方案 B：纯前端 + 外部 API（不推荐）❌

如果您想完全去掉后端，需要：
- ❌ 在前端代码中直接使用 Gemini API key（不安全！）
- ❌ API key 会暴露在浏览器中
- ❌ 任何人都可以看到您的 API key

**不推荐的原因**：API key 会暴露，可能导致：
- 他人滥用您的 API key
- 产生高额费用
- 违反 Google API 使用条款

## 🎯 推荐方案：保持当前配置

当前的 `server.js` 方案是最佳选择，因为：

1. **不是"单独的后端项目"**
   - 只是一个文件（90 行代码）
   - 和前端代码在同一个仓库
   - Zeabur 会将其部署为一个服务

2. **简单易维护**
   - 所有代码在一个地方
   - 部署时自动处理
   - 不需要额外配置

3. **安全**
   - API key 存储在 Zeabur 环境变量中
   - 不会暴露在前端代码中

## 📝 部署步骤（保持不变）

1. **上传到 GitHub**
   ```bash
   git add .
   git commit -m "准备部署"
   git push
   ```

2. **在 Zeabur 部署**
   - 导入 GitHub 仓库
   - 设置环境变量：`GEMINI_API_KEY`
   - 点击部署

3. **完成！**
   - Zeabur 会自动：
     - 构建前端（`npm run build`）
     - 启动服务器（`npm start`）
     - 提供静态文件和 API

## 💡 总结

**您不需要做任何改变！** 当前的配置已经是最佳实践：

- ✅ 一个仓库包含所有代码
- ✅ 一个服务提供前端和 API
- ✅ API key 安全存储
- ✅ 简单易部署

`server.js` 不是"单独的后端项目"，而是项目中的一个文件，Zeabur 会自动处理它。

